import{m as o,r as h,o as p,c as g,d as f,v as u}from"./entry.2dc74bde.js";const m=o({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:a,attrs:n}){const s=h(!1);return p(()=>{s.value=!0}),l=>{var r;if(s.value)return(r=a.default)==null?void 0:r.call(a);const e=a.fallback||a.placeholder;if(e)return e();const i=l.fallback||l.placeholder||"",d=l.fallbackTag||l.placeholderTag||"span";return g(d,n,i)}}}),c=new WeakMap;function k(t){if(c.has(t))return c.get(t);const a={...t};return a.render?a.render=(n,...s)=>{var l;if(n.mounted$){const e=t.render(n,...s);return e.children===null||typeof e.children=="string"?f(e.type,e.props,e.children,e.patchFlag,e.dynamicProps,e.shapeFlag):u(e)}else return u("div",(l=n.$attrs)!=null?l:n._.attrs)}:a.template&&(a.template=`
      <template v-if="mounted$">${t.template}</template>
      <template v-else><div></div></template>
    `),a.setup=(n,s)=>{var e;const l=h(!1);return p(()=>{l.value=!0}),Promise.resolve(((e=t.setup)==null?void 0:e.call(t,n,s))||{}).then(i=>typeof i!="function"?{...i,mounted$:l}:(...d)=>{if(l.value){const r=i(...d);return r.children===null||typeof r.children=="string"?f(r.type,r.props,r.children,r.patchFlag,r.dynamicProps,r.shapeFlag):u(r)}else return u("div",s.attrs)})},c.set(t,a),a}export{k as createClientOnly,m as default};
