import m from"./Servers.5d91de31.js";import{u as b}from"./composables.150201c8.js";import{u as x}from"./useAPI.2340242c.js";import{c as p}from"./mod.370fb615.js";import{B as w}from"./BetterMap.f8136df8.js";import{u as h}from"./auth.26658c2c.js";import{r as u,a as e,c as l,d as s,F as g,i as y,j as _,Z as k}from"./entry.2dc74bde.js";import"./Servers.vue_vue_type_style_index_0_lang.a3512aab.js";import"./_plugin-vue_export-helper.a1a6add7.js";const j={class:"bg-discortics-dashboard rounded-md min-h-screen"},z=s("div",{class:"py-2"},[s("div",{class:"p-4 flex flex-col items-start space-y-1"},[s("span",{class:"text-2xl bg-navCurrent text-transparent bg-clip-text font-bold font-montserrat"},"Your Servers"),s("span",{class:"text-sm"},"Manage your servers here!")])],-1),B={id:"servers",class:"widget-content"},S={key:0,class:"flex flex-col md:flex-row flex-wrap items-start"},A=k('<div class="p-2 relative lg:max-w-sm animate-pulse"><div class="w-full h-full"><div class="relative overflow-hidden form-card bg-frosty-navbar min-w-xs w-72 h-36 rounded-md bg-blend-overlay block"><div class="absolute inset-0 overflow-hidden form-card bg-frosty-navbar bg-cover bg-center w-full h-40 lg:h-36 rounded-md transform filter blur-2xl transition duration-500 ease-in-out block"></div><div class="group w-full h-full z-40 absolute inset-0"><div class="mx-auto flex flex-row justify-start w-full h-full"><div class="flex items-center p-2 w-36"><div class="w-20 h-20 mx-auto z-30 rounded-full bg-frosty-button" alt="server icon"></div></div><div class="flex flex-col w-full h-20 my-auto justify-start relative text-left items-start"><div class="absolute mx-auto -bottom-6 right-2"><div class="text-center p-2 w-24"><a class="block w-full transition duration-300 cursor-pointer p-2 bg-frosty-button ease-in-out flex transform items-center flex-wrap font-montserrat rounded-md transform h-9"></a></div></div><div class="overflow-hidden h-6 w-24 bg-frosty-button rounded-md font-bold p-px pr-2 mb-2"></div><div class="bg-frosty-button h-4 w-12 rounded-sm p-px ml-1"></div></div></div></div></div></div></div><div class="p-2 relative lg:max-w-sm animate-pulse"><div class="w-full h-full"><div class="relative overflow-hidden form-card bg-frosty-navbar min-w-xs w-72 h-36 rounded-md bg-blend-overlay block"><div class="absolute inset-0 overflow-hidden form-card bg-frosty-navbar bg-cover bg-center w-full h-40 lg:h-36 rounded-md transform filter blur-2xl transition duration-500 ease-in-out block"></div><div class="group w-full h-full z-40 absolute inset-0"><div class="mx-auto flex flex-row justify-start w-full h-full"><div class="flex items-center p-2 w-36"><div class="w-20 h-20 mx-auto z-30 rounded-full bg-frosty-button" alt="server icon"></div></div><div class="flex flex-col w-full h-20 my-auto justify-start relative text-left items-start"><div class="absolute mx-auto -bottom-6 right-2"><div class="text-center p-2 w-24"><a class="block w-full transition duration-300 cursor-pointer p-2 bg-frosty-button ease-in-out flex transform items-center flex-wrap font-montserrat rounded-md transform h-9"></a></div></div><div class="overflow-hidden h-6 w-24 bg-frosty-button rounded-md font-bold p-px pr-2 mb-2"></div><div class="bg-frosty-button h-4 w-12 rounded-sm p-px ml-1"></div></div></div></div></div></div></div><div class="p-2 relative lg:max-w-sm animate-pulse"><div class="w-full h-full"><div class="relative overflow-hidden form-card bg-frosty-navbar min-w-xs w-72 h-36 rounded-md bg-blend-overlay block"><div class="absolute inset-0 overflow-hidden form-card bg-frosty-navbar bg-cover bg-center w-full h-40 lg:h-36 rounded-md transform filter blur-2xl transition duration-500 ease-in-out block"></div><div class="group w-full h-full z-40 absolute inset-0"><div class="mx-auto flex flex-row justify-start w-full h-full"><div class="flex items-center p-2 w-36"><div class="w-20 h-20 mx-auto z-30 rounded-full bg-frosty-button" alt="server icon"></div></div><div class="flex flex-col w-full h-20 my-auto justify-start relative text-left items-start"><div class="absolute mx-auto -bottom-6 right-2"><div class="text-center p-2 w-24"><a class="block w-full transition duration-300 cursor-pointer p-2 bg-frosty-button ease-in-out flex transform items-center flex-wrap font-montserrat rounded-md transform h-9"></a></div></div><div class="overflow-hidden h-6 w-24 bg-frosty-button rounded-md font-bold p-px pr-2 mb-2"></div><div class="bg-frosty-button h-4 w-12 rounded-sm p-px ml-1"></div></div></div></div></div></div></div><div class="p-2 relative lg:max-w-sm animate-pulse"><div class="w-full h-full"><div class="relative overflow-hidden form-card bg-frosty-navbar min-w-xs w-72 h-36 rounded-md bg-blend-overlay block"><div class="absolute inset-0 overflow-hidden form-card bg-frosty-navbar bg-cover bg-center w-full h-40 lg:h-36 rounded-md transform filter blur-2xl transition duration-500 ease-in-out block"></div><div class="group w-full h-full z-40 absolute inset-0"><div class="mx-auto flex flex-row justify-start w-full h-full"><div class="flex items-center p-2 w-36"><div class="w-20 h-20 mx-auto z-30 rounded-full bg-frosty-button" alt="server icon"></div></div><div class="flex flex-col w-full h-20 my-auto justify-start relative text-left items-start"><div class="absolute mx-auto -bottom-6 right-2"><div class="text-center p-2 w-24"><a class="block w-full transition duration-300 cursor-pointer p-2 bg-frosty-button ease-in-out flex transform items-center flex-wrap font-montserrat rounded-md transform h-9"></a></div></div><div class="overflow-hidden h-6 w-24 bg-frosty-button rounded-md font-bold p-px pr-2 mb-2"></div><div class="bg-frosty-button h-4 w-12 rounded-sm p-px ml-1"></div></div></div></div></div></div></div>',4),T=[A],C={key:1,class:"flex flex-col md:flex-row flex-wrap items-center md:items-start"},Y={__name:"index",setup(E){b({title:"Servers"});const f=h().sessionToken;let o=u(!0);const a=new w;let i=u([]),r;async function v(){r=await x("@me/guilds",{method:"get",headers:{Authorization:`Bearer ${f}`}}).then(t=>(t==null?void 0:t.status)===200?t.json():(()=>(console.log("res",t),{servers:[]}))()).catch(console.error),console.log("allservers length",r.servers.length),r.servers.forEach(t=>{t.exists=!1,t.botPresent&&(t.exists=!0),a.set(t.id,t)}),i.value=a.map(t=>({name:t.name,icon:t.icon,id:t.id,premium:t.premium,exists:t.exists,userType:p(t.userType)})).sort((t,d)=>t.exists===d.exists?0:t.exists?-1:1),o.value=!1}return v(),(t,d)=>{const c=m;return e(),l("div",j,[z,s("div",B,[o.value?(e(),l("div",S,T)):(e(),l("div",C,[(e(!0),l(g,null,y(i.value,n=>(e(),_(c,{key:n.name,guild:n},null,8,["guild"]))),128))]))])])}}};export{Y as default};
